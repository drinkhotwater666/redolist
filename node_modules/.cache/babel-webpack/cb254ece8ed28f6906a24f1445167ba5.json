{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../todos.service\";\nimport * as i2 from \"../todo-header/todo-header.component\";\nimport * as i3 from \"../todo-list/todo-list.component\";\nimport * as i4 from \"@angular/material/slider\";\nexport class TodoComponent {\n  constructor(todosService) {\n    this.todosService = todosService;\n    this.todos = [];\n  }\n\n  remove(id) {\n    this.todosService.remove(id).subscribe(res => {\n      this.todos.splice(this.todos.findIndex(nb => nb.id === id), 1);\n    });\n  }\n\n  swapStatus(id) {\n    let curTodo = this.todos.find(nb => nb.id === id);\n    this.todosService.swapStatus(id, !curTodo.done).subscribe(res => {\n      curTodo.done = res.done;\n    });\n  }\n\n  addnew(todoName) {\n    this.todosService.addnew(todoName).subscribe(res => {\n      this.todos.push(res);\n    });\n  } // auto used when the page is freshed. Put some initial logic\n\n\n  ngOnInit() {\n    this.todosService.getTodos().subscribe(res => {\n      this.todos = [...res];\n      console.log(this.todos.length);\n    });\n  }\n\n  ngOnChanges() {}\n\n}\n\nTodoComponent.ɵfac = function TodoComponent_Factory(t) {\n  return new (t || TodoComponent)(i0.ɵɵdirectiveInject(i1.TodosService));\n};\n\nTodoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoComponent,\n  selectors: [[\"app-todo\"]],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 4,\n  vars: 1,\n  consts: [[1, \"todos\"], [3, \"add\"], [3, \"todos\", \"del\", \"swap\"], [\"min\", \"1\", \"max\", \"100\", \"step\", \"1\", \"value\", \"50\"]],\n  template: function TodoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"app-todo-header\", 1);\n      i0.ɵɵlistener(\"add\", function TodoComponent_Template_app_todo_header_add_1_listener($event) {\n        return ctx.addnew($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"app-todo-list\", 2);\n      i0.ɵɵlistener(\"del\", function TodoComponent_Template_app_todo_list_del_2_listener($event) {\n        return ctx.remove($event);\n      })(\"swap\", function TodoComponent_Template_app_todo_list_swap_2_listener($event) {\n        return ctx.swapStatus($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"mat-slider\", 3);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"todos\", ctx.todos);\n    }\n  },\n  directives: [i2.TodoHeaderComponent, i3.TodoListComponent, i4.MatSlider],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 378:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nError: Failed to find '../node_modules/@angular/material/prebuilt-themes/deeppurple-amber.css'\\\\n  in [\\\\n    /Users/firz/Work/angular/moots/project/src/app/todos/todo\\\\n  ]\\\\n    at /Users/firz/Work/angular/moots/project/node_modules/postcss-import/lib/resolve-id.js:35:13\\\\n    at async Promise.all (index 0)\\\\n    at async LazyResult.runAsync (/Users/firz/Work/angular/moots/project/node_modules/postcss/lib/lazy-result.js:394:11)\\\\n    at async Object.loader (/Users/firz/Work/angular/moots/project/node_modules/postcss-loader/dist/index.js:97:14)\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[378]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=todo.component.css.map*/\"]\n});","map":{"version":3,"sources":["/Users/firz/Work/angular/moots/project/src/app/todos/todo/todo.component.ts","/Users/firz/Work/angular/moots/project/src/app/todos/todo/todo.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnChanges, OnInit } from '@angular/core';\nimport { TodosService } from '../todos.service'\nimport { Todo } from '../todo'\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  styleUrls: ['./todo.component.css']\n})\nexport class TodoComponent implements OnInit, OnChanges {\n\n  constructor(private todosService: TodosService) { }\n\n  todos: Todo[] = []\n  remove(id: number) {\n    this.todosService.remove(id).subscribe(res => {\n      this.todos.splice(this.todos.findIndex(nb => nb.id === id), 1)\n    })\n  }\n\n  swapStatus(id: number) {\n    let curTodo = this.todos.find(nb => nb.id === id)\n    this.todosService.swapStatus(id, !curTodo!.done).subscribe(res => {\n      curTodo!.done = res!.done\n    })\n  }\n\n  addnew(todoName: string) {\n    this.todosService.addnew(todoName).subscribe(res => {\n      this.todos.push(res)\n    })\n  }\n  // auto used when the page is freshed. Put some initial logic\n  ngOnInit(): void {\n    this.todosService.getTodos().subscribe((res: Todo[]) => {\n      this.todos = [...res];\n      console.log(this.todos.length);\n\n    })\n  }\n  ngOnChanges(): void {\n\n  }\n\n}\n","<div class=\"todos\">\n    <app-todo-header (add)=\"addnew($event)\"></app-todo-header>\n    <app-todo-list [todos]=\"todos\" (del)=\"remove($event)\" (swap)=\"swapStatus($event)\"></app-todo-list>\n</div>\n<!-- <router-outlet></router-outlet> -->\n<mat-slider min=\"1\" max=\"100\" step=\"1\" value=\"50\"></mat-slider>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}